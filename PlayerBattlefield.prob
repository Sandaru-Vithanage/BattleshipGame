parser_version('456efb928642d91bb84e63d65abf3e25a59815ee').
classical_b('PlayerBattlefield',['/Users/sandaruvithanage/Codes/Atelier/BattleshipMachine/PlayerBattlefield.mch','/Users/sandaruvithanage/Codes/Atelier/BattleshipMachine/GridDefinition.mch','/Users/sandaruvithanage/Codes/Atelier/BattleshipMachine/PlayerDefinition.mch','/Users/sandaruvithanage/Codes/Atelier/BattleshipMachine/GameStateDefinition.mch']).
machine(abstract_machine(p5(4,4,1,20,4),machine(p4(4,4,1,8)),machine_header(p4(4,5,5,24),'GameStateDefinition',[]),[sets(p5(4,7,1,18,6),[enumerated_set(p5(4,8,5,13,6),'GAME_STATUS',[identifier(p4(4,9,9,19),'Game_Setup'),identifier(p4(4,10,9,16),'Ongoing'),identifier(p4(4,11,9,21),'Player1_Wins'),identifier(p4(4,12,9,21),'Player2_Wins')]),enumerated_set(p4(4,14,5,53),'SHOT_REPORT_MESSAGES',[identifier(p4(4,14,29,32),'Hit'),identifier(p4(4,14,34,38),'Miss'),identifier(p4(4,14,40,52),'Invalid_Shot')]),enumerated_set(p5(4,15,5,18,6),'REPORT_MESSAGES',[identifier(p4(4,16,9,36),'Fleet_Deployed_Successfully'),identifier(p4(4,17,9,38),'Waiting_OtherPlayer_To_Deploy')])])])).
machine(abstract_machine(p5(2,4,1,17,4),machine(p4(2,4,1,8)),machine_header(p4(2,5,5,19),'GridDefinition',[]),[constants(p5(2,7,1,9,13),[identifier(p4(2,8,5,9),'Grid'),identifier(p4(2,9,5,13),'GridSize')]),properties(p5(2,11,1,15,56),conjunct(p5(2,12,5,15,56),[member(p4(2,12,5,20),identifier(p4(2,12,5,13),'GridSize'),nat1_set(p4(2,12,16,20))),equal(p4(2,13,5,17),identifier(p4(2,13,5,13),'GridSize'),integer(p4(2,13,16,17),3)),member(p4(2,14,5,28),identifier(p4(2,14,5,9),'Grid'),pow_subset(p4(2,14,12,28),mult_or_cart(p4(2,14,16,27),nat1_set(p4(2,14,16,20)),nat1_set(p4(2,14,23,27))))),equal(p4(2,15,5,56),identifier(p4(2,15,5,9),'Grid'),comprehension_set(p4(2,15,12,56),[identifier(p4(2,15,13,15),xx),identifier(p4(2,15,17,19),yy)],conjunct(p4(2,15,22,55),[member(p4(2,15,22,37),identifier(p4(2,15,22,24),xx),interval(p4(2,15,26,37),integer(p4(2,15,26,27),1),identifier(p4(2,15,29,37),'GridSize'))),member(p4(2,15,40,55),identifier(p4(2,15,40,42),yy),interval(p4(2,15,44,55),integer(p4(2,15,44,45),1),identifier(p4(2,15,47,55),'GridSize')))])))]))])).
machine(abstract_machine(p5(1,4,1,147,4),machine(p3(4,1,8)),machine_header(p3(5,5,22),'PlayerBattlefield',[]),[sees(p5(1,7,1,10,24),[identifier(p3(8,5,19),'GridDefinition'),identifier(p3(9,5,21),'PlayerDefinition'),identifier(p3(10,5,24),'GameStateDefinition')]),variables(p5(1,12,1,18,16),[identifier(p3(13,5,16),playerShips),identifier(p3(14,5,21),currentGameState),identifier(p3(15,5,15),shotsFired),identifier(p3(16,5,18),currentPlayer),identifier(p3(17,5,16),hittedShots),identifier(p3(18,5,16),missedShots)]),invariant(p5(1,20,1,28,39),conjunct(p5(1,21,5,28,39),[member(p3(21,5,39),identifier(p3(21,5,16),playerShips),total_function(p3(21,19,39),identifier(p3(21,19,25),'PLAYER'),pow_subset(p3(21,30,39),identifier(p3(21,34,38),'Grid')))),less_equal(p3(22,5,43),card(p3(22,5,31),function(p3(22,10,30),identifier(p3(22,10,21),playerShips),[identifier(p3(22,22,29),'Player1')])),identifier(p3(22,35,43),'MaxShips')),less_equal(p3(23,5,43),card(p3(23,5,31),function(p3(23,10,30),identifier(p3(23,10,21),playerShips),[identifier(p3(23,22,29),'Player2')])),identifier(p3(23,35,43),'MaxShips')),member(p3(24,5,32),identifier(p3(24,5,15),shotsFired),total_function(p3(24,18,32),identifier(p3(24,18,24),'PLAYER'),nat_set(p3(24,29,32)))),member(p3(25,5,35),identifier(p3(25,5,21),currentGameState),identifier(p3(25,24,35),'GAME_STATUS')),member(p3(26,5,27),identifier(p3(26,5,18),currentPlayer),identifier(p3(26,21,27),'PLAYER')),member(p3(27,5,39),identifier(p3(27,5,16),hittedShots),total_function(p3(27,19,39),identifier(p3(27,19,25),'PLAYER'),pow_subset(p3(27,30,39),identifier(p3(27,34,38),'Grid')))),member(p3(28,5,39),identifier(p3(28,5,16),missedShots),total_function(p3(28,19,39),identifier(p3(28,19,25),'PLAYER'),pow_subset(p3(28,30,39),identifier(p3(28,34,38),'Grid'))))])),initialisation(p5(1,30,1,36,52),parallel(p5(1,31,5,36,52),[assign(p3(31,5,52),[identifier(p3(31,5,16),playerShips)],[set_extension(p3(31,20,52),[couple(p3(31,21,35),[identifier(p3(31,21,28),'Player1'),empty_set(p3(31,33,35))]),couple(p3(31,37,51),[identifier(p3(31,37,44),'Player2'),empty_set(p3(31,49,51))])])]),assign(p3(32,5,49),[identifier(p3(32,5,15),shotsFired)],[set_extension(p3(32,19,49),[couple(p3(32,20,33),[identifier(p3(32,20,27),'Player1'),integer(p3(32,32,33),0)]),couple(p3(32,35,48),[identifier(p3(32,35,42),'Player2'),integer(p3(32,47,48),0)])])]),assign(p3(33,5,35),[identifier(p3(33,5,21),currentGameState)],[identifier(p3(33,25,35),'Game_Setup')]),assign(p3(34,5,29),[identifier(p3(34,5,18),currentPlayer)],[identifier(p3(34,22,29),'Player1')]),assign(p3(35,5,52),[identifier(p3(35,5,16),hittedShots)],[set_extension(p3(35,20,52),[couple(p3(35,21,35),[identifier(p3(35,21,28),'Player1'),empty_set(p3(35,33,35))]),couple(p3(35,37,51),[identifier(p3(35,37,44),'Player2'),empty_set(p3(35,49,51))])])]),assign(p3(36,5,52),[identifier(p3(36,5,16),missedShots)],[set_extension(p3(36,20,52),[couple(p3(36,21,35),[identifier(p3(36,21,28),'Player1'),empty_set(p3(36,33,35))]),couple(p3(36,37,51),[identifier(p3(36,37,44),'Player2'),empty_set(p3(36,49,51))])])])])),operations(p5(1,38,1,145,8),[operation(p5(1,40,5,62,8),identifier(p5(1,40,5,62,8),deployFleet),[identifier(p3(40,5,11),report)],[identifier(p3(40,28,34),player),identifier(p3(40,36,45),positions)],precondition(p5(1,41,5,62,8),conjunct(p5(1,42,9,45,38),[member(p3(42,9,24),identifier(p3(42,9,15),player),identifier(p3(42,18,24),'PLAYER')),member(p3(43,9,30),identifier(p3(43,9,18),positions),pow_subset(p3(43,21,30),identifier(p3(43,25,29),'Grid'))),equal(p3(44,9,35),card(p3(44,9,24),identifier(p3(44,14,23),positions)),identifier(p3(44,27,35),'MaxShips')),equal(p3(45,9,38),identifier(p3(45,9,25),currentGameState),identifier(p3(45,28,38),'Game_Setup'))]),if(p5(1,47,9,61,12),conjunct(p3(47,13,82),[equal(p3(47,13,50),intersection(p3(47,13,45),function(p3(47,13,32),identifier(p3(47,13,24),playerShips),[identifier(p3(47,25,31),player)]),identifier(p3(47,36,45),positions)),empty_set(p3(47,48,50))),equal(p3(47,53,82),card(p3(47,53,78),function(p3(47,58,77),identifier(p3(47,58,69),playerShips),[identifier(p3(47,70,76),player)])),integer(p3(47,81,82),0))]),parallel(p5(1,48,13,58,16),[assign(p3(48,13,45),[function(p3(48,13,31),identifier(p3(48,13,24),playerShips),[identifier(p3(48,25,31),player)])],[identifier(p3(48,36,45),positions)]),assign(p3(49,13,36),[function(p3(49,13,30),identifier(p3(49,13,23),shotsFired),[identifier(p3(49,24,30),player)])],[integer(p3(49,35,36),0)]),assign(p3(50,13,50),[identifier(p3(50,13,19),report)],[identifier(p3(50,23,50),'Fleet_Deployed_Successfully')]),if(p5(1,52,13,58,16),conjunct(p3(52,17,73),[equal(p3(52,17,33),identifier(p3(52,17,23),player),identifier(p3(52,26,33),'Player1')),equal(p3(52,36,73),card(p3(52,36,62),function(p3(52,41,61),identifier(p3(52,41,52),playerShips),[identifier(p3(52,53,60),'Player2')])),identifier(p3(52,65,73),'MaxShips'))]),assign(p3(53,17,44),[identifier(p3(53,17,33),currentGameState)],[identifier(p3(53,37,44),'Ongoing')]),[],if(p5(1,55,17,57,20),conjunct(p3(55,21,77),[equal(p3(55,21,37),identifier(p3(55,21,27),player),identifier(p3(55,30,37),'Player2')),equal(p3(55,40,77),card(p3(55,40,66),function(p3(55,45,65),identifier(p3(55,45,56),playerShips),[identifier(p3(55,57,64),'Player1')])),identifier(p3(55,69,77),'MaxShips'))]),assign(p3(56,21,48),[identifier(p3(56,21,37),currentGameState)],[identifier(p3(56,41,48),'Ongoing')]),[],skip(none)))]),[],assign(p3(60,13,52),[identifier(p3(60,13,19),report)],[identifier(p3(60,23,52),'Waiting_OtherPlayer_To_Deploy')])))),operation(p5(1,65,5,114,8),identifier(p5(1,65,5,114,8),playerShoots),[identifier(p3(65,5,11),report)],[identifier(p3(65,29,35),target)],precondition(p5(1,66,5,114,8),conjunct(p5(1,67,9,68,22),[equal(p3(67,9,35),identifier(p3(67,9,25),currentGameState),identifier(p3(67,28,35),'Ongoing')),member(p3(68,9,22),identifier(p3(68,9,15),target),identifier(p3(68,18,22),'Grid'))]),if(p5(1,70,9,113,12),equal(p3(70,12,35),identifier(p3(70,12,25),currentPlayer),identifier(p3(70,28,35),'Player1')),if(p5(1,71,13,90,16),member(p3(71,16,45),identifier(p3(71,16,22),target),function(p3(71,25,45),identifier(p3(71,25,36),playerShips),[identifier(p3(71,37,44),'Player2')])),if(p5(1,72,17,84,20),equal(p3(72,20,61),card(p3(72,20,57),minus_or_set_subtract(p3(72,25,56),function(p3(72,25,45),identifier(p3(72,25,36),playerShips),[identifier(p3(72,37,44),'Player2')]),set_extension(p3(72,48,56),[identifier(p3(72,49,55),target)]))),integer(p3(72,60,61),0)),parallel(p5(1,73,21,77,34),[assign(p3(73,21,53),[identifier(p3(73,21,37),currentGameState)],[identifier(p3(73,41,53),'Player1_Wins')]),assign(p3(74,21,76),[function(p3(74,21,40),identifier(p3(74,21,32),playerShips),[identifier(p3(74,33,40),'Player2')])],[minus_or_set_subtract(p3(74,45,76),function(p3(74,45,65),identifier(p3(74,45,56),playerShips),[identifier(p3(74,57,64),'Player2')]),set_extension(p3(74,68,76),[identifier(p3(74,69,75),target)]))]),assign(p3(75,21,79),[function(p3(75,21,45),identifier(p3(75,21,31),shotsFired),[identifier(p3(75,32,45),currentPlayer)])],[add(p3(75,50,79),function(p3(75,50,75),identifier(p3(75,50,60),shotsFired),[identifier(p3(75,61,74),currentPlayer)]),integer(p3(75,78,79),1))]),assign(p3(76,21,89),[function(p3(76,21,46),identifier(p3(76,21,32),hittedShots),[identifier(p3(76,33,46),currentPlayer)])],[union(p3(76,51,89),function(p3(76,51,77),identifier(p3(76,51,62),hittedShots),[identifier(p3(76,63,76),currentPlayer)]),set_extension(p3(76,81,89),[identifier(p3(76,82,88),target)]))]),assign(p3(77,21,34),[identifier(p3(77,21,27),report)],[identifier(p3(77,31,34),'Hit')])]),[],parallel(p5(1,79,21,83,34),[assign(p3(79,21,76),[function(p3(79,21,40),identifier(p3(79,21,32),playerShips),[identifier(p3(79,33,40),'Player2')])],[minus_or_set_subtract(p3(79,45,76),function(p3(79,45,65),identifier(p3(79,45,56),playerShips),[identifier(p3(79,57,64),'Player2')]),set_extension(p3(79,68,76),[identifier(p3(79,69,75),target)]))]),assign(p3(80,21,79),[function(p3(80,21,45),identifier(p3(80,21,31),shotsFired),[identifier(p3(80,32,45),currentPlayer)])],[add(p3(80,50,79),function(p3(80,50,75),identifier(p3(80,50,60),shotsFired),[identifier(p3(80,61,74),currentPlayer)]),integer(p3(80,78,79),1))]),assign(p3(81,21,45),[identifier(p3(81,21,34),currentPlayer)],[identifier(p3(81,38,45),'Player2')]),assign(p3(82,21,89),[function(p3(82,21,46),identifier(p3(82,21,32),hittedShots),[identifier(p3(82,33,46),currentPlayer)])],[union(p3(82,51,89),function(p3(82,51,77),identifier(p3(82,51,62),hittedShots),[identifier(p3(82,63,76),currentPlayer)]),set_extension(p3(82,81,89),[identifier(p3(82,82,88),target)]))]),assign(p3(83,21,34),[identifier(p3(83,21,27),report)],[identifier(p3(83,31,34),'Hit')])])),[],parallel(p5(1,86,17,89,31),[assign(p3(86,17,75),[function(p3(86,17,41),identifier(p3(86,17,27),shotsFired),[identifier(p3(86,28,41),currentPlayer)])],[add(p3(86,46,75),function(p3(86,46,71),identifier(p3(86,46,56),shotsFired),[identifier(p3(86,57,70),currentPlayer)]),integer(p3(86,74,75),1))]),assign(p3(87,17,85),[function(p3(87,17,42),identifier(p3(87,17,28),missedShots),[identifier(p3(87,29,42),currentPlayer)])],[union(p3(87,47,85),function(p3(87,47,73),identifier(p3(87,47,58),missedShots),[identifier(p3(87,59,72),currentPlayer)]),set_extension(p3(87,77,85),[identifier(p3(87,78,84),target)]))]),assign(p3(88,17,41),[identifier(p3(88,17,30),currentPlayer)],[identifier(p3(88,34,41),'Player2')]),assign(p3(89,17,31),[identifier(p3(89,17,23),report)],[identifier(p3(89,27,31),'Miss')])])),[],if(p5(1,93,13,112,16),member(p3(93,16,45),identifier(p3(93,16,22),target),function(p3(93,25,45),identifier(p3(93,25,36),playerShips),[identifier(p3(93,37,44),'Player1')])),if(p5(1,94,17,106,20),equal(p3(94,20,61),card(p3(94,20,57),minus_or_set_subtract(p3(94,25,56),function(p3(94,25,45),identifier(p3(94,25,36),playerShips),[identifier(p3(94,37,44),'Player1')]),set_extension(p3(94,48,56),[identifier(p3(94,49,55),target)]))),integer(p3(94,60,61),0)),parallel(p5(1,95,21,99,34),[assign(p3(95,21,53),[identifier(p3(95,21,37),currentGameState)],[identifier(p3(95,41,53),'Player2_Wins')]),assign(p3(96,21,76),[function(p3(96,21,40),identifier(p3(96,21,32),playerShips),[identifier(p3(96,33,40),'Player1')])],[minus_or_set_subtract(p3(96,45,76),function(p3(96,45,65),identifier(p3(96,45,56),playerShips),[identifier(p3(96,57,64),'Player1')]),set_extension(p3(96,68,76),[identifier(p3(96,69,75),target)]))]),assign(p3(97,21,89),[function(p3(97,21,46),identifier(p3(97,21,32),hittedShots),[identifier(p3(97,33,46),currentPlayer)])],[union(p3(97,51,89),function(p3(97,51,77),identifier(p3(97,51,62),hittedShots),[identifier(p3(97,63,76),currentPlayer)]),set_extension(p3(97,81,89),[identifier(p3(97,82,88),target)]))]),assign(p3(98,21,79),[function(p3(98,21,45),identifier(p3(98,21,31),shotsFired),[identifier(p3(98,32,45),currentPlayer)])],[add(p3(98,50,79),function(p3(98,50,75),identifier(p3(98,50,60),shotsFired),[identifier(p3(98,61,74),currentPlayer)]),integer(p3(98,78,79),1))]),assign(p3(99,21,34),[identifier(p3(99,21,27),report)],[identifier(p3(99,31,34),'Hit')])]),[],parallel(p5(1,101,21,105,34),[assign(p3(101,21,76),[function(p3(101,21,40),identifier(p3(101,21,32),playerShips),[identifier(p3(101,33,40),'Player1')])],[minus_or_set_subtract(p3(101,45,76),function(p3(101,45,65),identifier(p3(101,45,56),playerShips),[identifier(p3(101,57,64),'Player1')]),set_extension(p3(101,68,76),[identifier(p3(101,69,75),target)]))]),assign(p3(102,21,79),[function(p3(102,21,45),identifier(p3(102,21,31),shotsFired),[identifier(p3(102,32,45),currentPlayer)])],[add(p3(102,50,79),function(p3(102,50,75),identifier(p3(102,50,60),shotsFired),[identifier(p3(102,61,74),currentPlayer)]),integer(p3(102,78,79),1))]),assign(p3(103,21,45),[identifier(p3(103,21,34),currentPlayer)],[identifier(p3(103,38,45),'Player1')]),assign(p3(104,21,89),[function(p3(104,21,46),identifier(p3(104,21,32),hittedShots),[identifier(p3(104,33,46),currentPlayer)])],[union(p3(104,51,89),function(p3(104,51,77),identifier(p3(104,51,62),hittedShots),[identifier(p3(104,63,76),currentPlayer)]),set_extension(p3(104,81,89),[identifier(p3(104,82,88),target)]))]),assign(p3(105,21,34),[identifier(p3(105,21,27),report)],[identifier(p3(105,31,34),'Hit')])])),[],parallel(p5(1,108,17,111,31),[assign(p3(108,17,75),[function(p3(108,17,41),identifier(p3(108,17,27),shotsFired),[identifier(p3(108,28,41),currentPlayer)])],[add(p3(108,46,75),function(p3(108,46,71),identifier(p3(108,46,56),shotsFired),[identifier(p3(108,57,70),currentPlayer)]),integer(p3(108,74,75),1))]),assign(p3(109,17,85),[function(p3(109,17,42),identifier(p3(109,17,28),missedShots),[identifier(p3(109,29,42),currentPlayer)])],[union(p3(109,47,85),function(p3(109,47,73),identifier(p3(109,47,58),missedShots),[identifier(p3(109,59,72),currentPlayer)]),set_extension(p3(109,77,85),[identifier(p3(109,78,84),target)]))]),assign(p3(110,17,41),[identifier(p3(110,17,30),currentPlayer)],[identifier(p3(110,34,41),'Player1')]),assign(p3(111,17,31),[identifier(p3(111,17,23),report)],[identifier(p3(111,27,31),'Miss')])]))))),operation(p5(1,117,5,122,8),identifier(p5(1,117,5,122,8),shipLocations),[identifier(p3(117,5,22),playerShipsquares)],[identifier(p3(117,41,47),player)],precondition(p5(1,118,5,122,8),member(p3(119,9,24),identifier(p3(119,9,15),player),identifier(p3(119,18,24),'PLAYER')),assign(p3(121,9,49),[identifier(p3(121,9,26),playerShipsquares)],[function(p3(121,30,49),identifier(p3(121,30,41),playerShips),[identifier(p3(121,42,48),player)])]))),operation(p5(1,125,5,131,8),identifier(p5(1,125,5,131,8),playerShipsLeft),[identifier(p3(125,5,15),shipCounts)],[],block(p5(1,126,5,131,8),assign(p5(1,127,9,130,10),[identifier(p3(127,9,19),shipCounts)],[set_extension(p5(1,127,23,130,10),[couple(p3(128,13,51),[identifier(p3(128,13,20),'Player1'),card(p3(128,25,51),function(p3(128,30,50),identifier(p3(128,30,41),playerShips),[identifier(p3(128,42,49),'Player1')]))]),couple(p3(129,13,51),[identifier(p3(129,13,20),'Player2'),card(p3(129,25,51),function(p3(129,30,50),identifier(p3(129,30,41),playerShips),[identifier(p3(129,42,49),'Player2')]))])])]))),operation(p5(1,134,5,139,8),identifier(p5(1,134,5,139,8),shotsFiredTaken),[identifier(p3(134,5,14),shotCount)],[identifier(p3(134,35,41),player)],precondition(p5(1,135,5,139,8),member(p3(136,9,24),identifier(p3(136,9,15),player),identifier(p3(136,18,24),'PLAYER')),assign(p3(138,9,40),[identifier(p3(138,9,18),shotCount)],[function(p3(138,22,40),identifier(p3(138,22,32),shotsFired),[identifier(p3(138,33,39),player)])]))),operation(p5(1,142,5,145,8),identifier(p5(1,142,5,145,8),gameStatus),[identifier(p3(142,5,11),report)],[],block(p5(1,143,5,145,8),assign(p3(144,9,35),[identifier(p3(144,9,15),report)],[identifier(p3(144,19,35),currentGameState)])))])])).
machine(abstract_machine(p5(3,4,1,17,4),machine(p4(3,4,1,8)),machine_header(p4(3,5,5,21),'PlayerDefinition',[]),[sets(p5(3,7,1,8,32),[enumerated_set(p4(3,8,5,32),'PLAYER',[identifier(p4(3,8,15,22),'Player1'),identifier(p4(3,8,24,31),'Player2')])]),constants(p5(3,10,1,11,13),[identifier(p4(3,11,5,13),'MaxShips')]),properties(p5(3,13,1,15,17),conjunct(p5(3,14,5,15,17),[member(p4(3,14,5,20),identifier(p4(3,14,5,13),'MaxShips'),nat1_set(p4(3,14,16,20))),equal(p4(3,15,5,17),identifier(p4(3,15,5,13),'MaxShips'),integer(p4(3,15,16,17),3))]))])).
